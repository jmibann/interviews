(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[31],{

/***/ "./containers/ReportGeneration.jsx":
/*!*****************************************!*\
  !*** ./containers/ReportGeneration.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _redux_action_creator_candidate_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../redux/action-creator/candidate-actions */ \"./redux/action-creator/candidate-actions.js\");\n/* harmony import */ var _redux_action_creator_answersActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../redux/action-creator/answersActions */ \"./redux/action-creator/answersActions.js\");\n/* harmony import */ var _components_StarsCalification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/StarsCalification */ \"./components/StarsCalification.jsx\");\n\n\n\n\n\n\n\n\n/* eslint-disable no-unused-vars */\n\n\n\n\n\n\n\n\nvar ReportGeneration =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ReportGeneration, _React$Component);\n\n  function ReportGeneration(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ReportGeneration);\n\n    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(ReportGeneration).call(this, props));\n    _this.state = {\n      candidato: {\n        tags: []\n      },\n      mail: ''\n    };\n    _this.exportMail = _this.exportMail.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    _this.handleChange = _this.handleChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ReportGeneration, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var value = e.target.value;\n      console.log('VALUE', value);\n      this.setState({\n        mail: value\n      });\n    }\n  }, {\n    key: \"exportMail\",\n    value: function exportMail() {\n      console.log('done');\n      axios__WEBPACK_IMPORTED_MODULE_10___default.a.post('/api/candidate/export', {\n        data: {\n          mail: this.state.mail,\n          subject: 'Endava - HHRR Interview - Candidate: ' + this.props.candidate.name + ' ' + this.props.candidate.surname + ' (ID: ' + this.props.candidate.id + ')'\n        },\n        content: {\n          candidate: this.props.candidate,\n          HHRR: this.props.answersHR,\n          SYS: this.props.answersSIST\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.fetchCandidate(this.props.candID).then(function () {\n        return _this2.props.fetchCandidateInterview(_this2.props.candID);\n      }).then(function () {\n        return _this2.props.answersHR.length === 0 && _this2.props.fetchHrAnswers(_this2.props.candidate.InterviewIDId);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevState) {\n      if (prevState.candidate.id !== this.props.candidate.id) {\n        this.props.fetchHrAnswers(this.props.candidate.InterviewIDId);\n        this.props.fetchSistAnswers(this.props.candidate.InterviewIDId);\n        this.props.fetchGeneralObs(this.props.candidate.InterviewIDId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var SistInterv1 = !this.props.candidate.interSIST1 ? '' : this.props.candidate.interSIST1.nombre;\n      var SistInterv2 = !this.props.candidate.interSIST2 ? '' : this.props.candidate.interSIST2.nombre;\n      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, Object.keys(this.props.user).length ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"halfGrid\"\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          marginLeft: '4%',\n          marginTop: '3%',\n          textAlign: 'center',\n          marginBottom: '25px'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", {\n        style: {\n          fontSize: '1.3em',\n          borderBottom: '1px solid black'\n        }\n      }, \"Final Report\")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          textAlign: 'center',\n          padding: '10px',\n          margin: '1% 7%'\n        },\n        className: 'borde ' + this.props.candidate.status\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"p\", {\n        style: {\n          fontSize: '1em'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, \"STATUS :  \")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n        className: 'statusReport ' + this.props.candidate.status\n      }, ' ' + this.props.candidate.status, \" \"))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"p\", {\n        style: {\n          textAlign: 'center',\n          border: '1px solid black',\n          borderRadius: '25px',\n          padding: '15px',\n          margin: '35px 10px'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", {\n        style: {\n          borderBottom: '1px solid black'\n        }\n      }, \"  Send Report\"), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"form\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 0.3fr',\n          borderRadius: '25px',\n          marginLeft: '20px'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"input\", {\n        placeholder: \" Type email you want to send this report\",\n        id: \"addTagInput\",\n        type: \"textbox\",\n        onChange: this.handleChange\n      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"input\", {\n        type: \"submit\",\n        className: \"ActionsBotonesBlanco\",\n        value: \"Send\",\n        onClick: this.exportMail\n      }))))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({\n        style: {\n          marginLeft: '30px'\n        }\n      }, \"style\", {\n        display: 'grid',\n        gridTemplateColumns: '1fr 0.7fr'\n      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        style: {\n          paddingLeft: '4%'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h4\", {\n        style: {\n          marginTop: '20px'\n        }\n      }, \"Candidate's Full-Name: \", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, this.props.candidate.fullName, \" \")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h4\", null, \"Phone: \", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, this.props.candidate.telNumber), \" \"), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h4\", null, \"Email Adress: \", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, this.props.candidate.email)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h4\", null, \"Candidate ID: \", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, this.props.candidate.id)), this.props.candidate.tags && this.props.candidate.tags.length > 0 && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h4\", null, \"Candidate Tags :\", this.props.candidate.tags.map(function (tag) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", {\n          key: tag.id\n        }, ' ' + tag.tag + ' ');\n      })), this.props.candidate.url && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"a\", {\n        style: {\n          textAlign: 'center'\n        },\n        href: this.props.candidate.url,\n        target: \"_blank\"\n      }, \"Linked-in Profile\")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, this.props.candidate.interviewerHR && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          textAlign: 'left',\n          marginTop: '20px',\n          fontSize: '1.5em'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, \"HR Interviewer: \"), ' ' + this.props.candidate.interviewerHR.nombre), (this.props.candidate.interSIST1 || this.props.candidate.interSIST2) && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          textAlign: 'left',\n          marginTop: '20px',\n          fontSize: '1.5em'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", null, \"SYST Interviewer/s: \"), ' ' + SistInterv1, \" \", SistInterv2 ? ', ' + SistInterv2 : ''))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        id: \"infoCandHR\"\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"b\", {\n        style: {\n          fontSize: '1.3em',\n          color: '#DE411C'\n        }\n      }, \"HR Interview\")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"answersHR\",\n        style: {\n          padding: '15px'\n        }\n      }, this.props.answersHR.map(function (elemento, key) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          key: elemento.pregunta,\n          className: \"answerBox\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h5\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", {\n          style: {\n            borderBottom: '1px solid black'\n          }\n        }, elemento.pregunta, \" :\"), \" \"), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h5\", null, elemento.respuesta));\n      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h2\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"b\", {\n        style: {\n          fontSize: '1.5em',\n          color: '#DE411C'\n        }\n      }, \"IT Interview\")), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"hr\", null)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"answersHR\",\n        style: {\n          padding: '15px'\n        }\n      }, this.props.answersSIST.map(function (element) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          key: element.pregunta,\n          className: \"answerBox\",\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 0.5fr'\n          }\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"h5\", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"strong\", {\n          style: {\n            borderBottom: '1px solid black'\n          }\n        }, element.pregunta, \" :\"), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"p\", {\n          style: {\n            margin: '2% 3%'\n          }\n        }, element.observation)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_StarsCalification__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n          score: element.score\n        }));\n      })))) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Redirect\"], {\n        to: \"/\"\n      }));\n    }\n  }]);\n\n  return ReportGeneration;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    candidate: state.candidate.candidate,\n    interviewID: state.candidate.interviewID.interviewID,\n    answersHR: state.answers.answersHR,\n    answersSIST: state.answers.answersSIST,\n    HRObs: state.answers.HRObs,\n    SistObs: state.answers.SistObs\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchCandidate: function fetchCandidate(candID) {\n      return dispatch(Object(_redux_action_creator_candidate_actions__WEBPACK_IMPORTED_MODULE_11__[\"fetchCandidate\"])(candID));\n    },\n    fetchHrAnswers: function fetchHrAnswers(interviewID) {\n      return dispatch(Object(_redux_action_creator_answersActions__WEBPACK_IMPORTED_MODULE_12__[\"fetchHrAnswers\"])(interviewID));\n    },\n    fetchSistAnswers: function fetchSistAnswers(interviewID) {\n      return dispatch(Object(_redux_action_creator_answersActions__WEBPACK_IMPORTED_MODULE_12__[\"fetchSistAnswers\"])(interviewID));\n    },\n    fetchCandidateInterview: function fetchCandidateInterview(candID) {\n      return dispatch(Object(_redux_action_creator_candidate_actions__WEBPACK_IMPORTED_MODULE_11__[\"fetchCandidateInterview\"])(candID));\n    },\n    fetchGeneralObs: function fetchGeneralObs(candID) {\n      return dispatch(Object(_redux_action_creator_answersActions__WEBPACK_IMPORTED_MODULE_12__[\"fetchGeneralObs\"])(candID));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(mapStateToProps, mapDispatchToProps)(ReportGeneration));\n\n//# sourceURL=webpack:///./containers/ReportGeneration.jsx?");

/***/ })

}]);